<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Sanitation Report</title>

    <script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.1/mapbox.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.1/mapbox.css' rel='stylesheet' />


    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Add custom CSS here -->
    <link href="css/blog-home.css" rel="stylesheet">
    <link href="css/sb-admin.css" rel="stylesheet">

    <!-- font awesome CSS here -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/plugins/timeline/timeline.css" rel="stylesheet">


    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="css/grid.css">
    <link rel="stylesheet" href="css/stockgrid.css">

    <!-- 3rd party dependencies -->
    <script type="text/javascript" src="js/vendor/jquery/1.7.1/jquery.js"></script>
    <script type="text/javascript" src="js/vendor/underscore/1.1.6/underscore.js"></script>
    <script type="text/javascript" src="js/vendor/backbone/0.5.1/backbone.js"></script>
    <script type="text/javascript" src="js/vendor/bootstrap/2.0.2/bootstrap.js"></script>
    <script type="text/javascript" src="js/src/backend.csv.js"></script>
    <script type="text/javascript" src="js/vendor/mustache/0.5.0-dev/mustache.js"></script>
    <script type="text/javascript" src="js/dist/recline.js"></script>

    <link rel="stylesheet" href="css/custom.css">

</head>

<body>

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="">Sanitation Report <strong>DRAFT</strong></a> 
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="#Problem">Problem</a></li>
                    <li><a href="#Current">Current</a></li>
                    <li><a href="#How">How</a></li>
                    <li><a href="#DataCollection">Data Collection</a></li>
                    <li><a href="#Methodology">Methodology</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <div class="tooltip" id="tooltip"></div>
    <div class="container"><!-- Report Container -->

      <!-- Title -->
      <h1><a href="#">Sanitation Balancing Report <strong>DRAFT</strong></a></h1>
      <p class="lead"><a href="index.php">City of Asheville ITS</a></p>
      <p>
          <span class="glyphicon glyphicon-time"></span> March  5, 2014
      </p>
      <!-- /Title -->

      
        <div class="row"   ><!-- Problem Row -->
          <div class="col-lg-12 col-md-12" id="Summary">
              <h2><strong>Executive Summary</strong></h2>
              <p>City of Asheville IT Services and Public Works partnered to analyze sanitation truck routing and to determine if efficiencies could be achieved. The original project goals included the following:<p>
              <ol>             
                <li>Reduce the total number of required routes per week</li>
                <li>Balance the workload required for each day and between each truck’s daily route</li>
                <li>Develop/improve necessary data resources to support the project</li>
                <li>Minimize miles traveled to collect residential solid waste</li>
                <li>Limit disruptions to customers by minimizing collection day changes</li>
                <li>Through 1-5 above, reduce overall costs of labor, maintenance, and fuel</li>
              </ol>

              <p>Initial project findings and recommendations include:</p>

              <ol>             
                <li>Truck routes can be reduced from 26 to 24 each week</li>
                <li>Daily workloads have been balanced and truck routes for each day have been balanced.</li>
                <li>The underlying data resources to support this project are significantly improved. Data analysts collected detailed field records of collection times and modeled collection times based on streets and number of cans to collect. The number of “mismatched” sanitation cans in the GIS database was reduced from approximately 3000 to 400 (10% of total to less than 1.5%) with ongoing improvements. </li>
                <li>An important lesson learned was that the sanitation drivers are extremely efficient in their routing and can meet or exceed the computer-modeled routing in most cases. However, eliminating two routes per week will result in fewer overall miles traveled.</li>
                <li>The route balancing analysis was performed to minimize disruptions to customers by keeping daily service areas largely unchanged.</li>
                <li>The results of this project are expected to reduce overall costs of labor (2 fewer drivers per week), maintenance (2 fewer truck routes per week), and fuel.</li>
              </ol>
              <p>Interestingly, the initial project plan expected to achieve significant savings by optimizing each individual route. However, the field-collected data made it clear that the sanitation drivers already drive remarkably efficient routes. Indeed, the software models could not outperform the drivers. However, thanks to the improved sanitation data resources collected during the project, significant savings can be achieved by balancing the work days and the truck routes within each day. The following report details current conditions and all of the data and methods used to support the analysis and the recommended changes.</p>
          </div>   
        </div><!-- /Problem Row -->
      

      <hr>

        <div class="row"   ><!-- Problem Row -->
          <div class="col-lg-12 col-md-12" id="Problem">
              <h2><strong>Problem</strong></h>
              <h4>Why are we doing this?</h4>
              <p>Out of balance trash areas.  Some days trucks finish drastically different times .  attempt to better balance days and on each day better balance of hours trucks out.</p>
          </div>   
        </div><!-- /Problem Row -->
      

      <hr>


      <div class="row" id="Current" ><!-- Current Row -->


            <div class="container"><!-- Current Title Row -->
              <div class="row" >        

                <div class="col-lg-8 col-md-8">
                  <h2><strong>Current</strong></h2>
                  <h3>map</h3>

                  <div id='currentmap'>
                    <img src="http://placehold.it/900x300" class="img-responsive">
                  </div>

                  <p>map of current pickup days.</p>
                    <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/coa_sanitation_balance_days_cur.geojson"  target="_blank"> Get Map Data</a>
                </div>  

                  <div id='value'  class="col-lg-2 col-md-2">
                    <h2><strong>&nbsp;</strong></h2>
                    <h3>&nbsp;</h3>
                    <div >
                      <div  ><strong>Total Time: </strong><span id="ttcurrent"></span></div>
                      <div  ><strong>Cans:  </strong><span id="ccurrent"></span></div>
                      <div  ><strong>Time per truck: </strong><span id="tttcurrent"></span></div>
                      <div  ><span id="highlightcurrent"></span></div>
                    </div>
                  </div>


              </div>
            </div><!-- /Current Title Row -->

            <hr>

            <div class="container"><!-- Current Time Row -->
              <div class="row" >

                  <div class="col-lg-7 col-md-7">
                    <div id="currenttimechart" >
                          <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                    </div>
                  </div>

                  <div class="col-lg-5 col-md-5">
                      <h3>Current Time</h3>
                      <h4>Predicted time</h4>
                      <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                      <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/currentday.csv"  target="_blank"> Get Chart Data</a>
                  </div>

              </div>
            </div><!-- /Current Time Row -->

            <hr>

            <div class="container"><!-- Current Cans Row -->
              <div class="row" >

                  <div class="col-lg-5 col-md-5">
                      <h3>Current Cans</h3>
                      <h4>Predicted cans</h4>
                      <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                      <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/currentday.csv"  target="_blank"> Get Chart Data</a>
                  </div>

                  <div class="col-lg-7 col-md-7">
                    <div id="currentcanchart" >
                          <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                    </div>
                  </div>

              </div>
            </div><!-- /Current Cans Row -->

            <div class="container"><!-- Current Cans Row -->
              <div class="row" >

                  <div class="col-lg-7 col-md-7">
                      <h3>Data</h3>
                      <h4>Data View for Current Areas</h4>
                      <div>
                        <div  class="col-lg-12 col-md-12" id="currentdata" />
                      </div>
                  </div>

                  <div class="col-lg-7 col-md-7">
                      <br>
                      <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/currentday.csv"  target="_blank"> Get Table Data</a>
                  </div>

              </div>
            </div><!-- /Current Cans Row -->

      </div><!-- /Current Row -->


      <hr>


      <div class="row" id="Proposed" ><!-- Current Row -->


            <div class="container"><!-- Current Title Row -->
              <div class="row" >        

                <div class="col-lg-8 col-md-8">
                  <h2><strong>Proposed</strong></h2>
                  <h3>map</h3>
                  <div id='proposedmap'>
                    <img src="http://placehold.it/900x300" class="img-responsive">
                  </div>
                  
                  <p>map of proposed pickup days.</p>
                    <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/coa_sanitation_balance_days_plan.geojson" target="_blank"> Get Map Data</a>
                </div>  

                  <div id='value'  class="col-lg-2 col-md-2">
                    <h2><strong>&nbsp;</strong></h2>
                    <h3>&nbsp;</h3>
                    <div >
                      <div  ><strong>Total Time: </strong><span id="ttproposed"></span></div>
                      <div  ><strong>Cans:  </strong><span id="cproposed"></span></div>
                      <div  ><strong>Time per truck: </strong><span id="tttproposed"></span></div>
                    </div>
                  </div>

              </div>
            </div><!-- /Current Title Row -->

            <hr>

            <div class="container"><!-- Current Time Row -->
              <div class="row" >

                  <div class="col-lg-7 col-md-7">
                    <div id="proposedtimechart" >
                          <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                    </div>
                  </div>

                  <div class="col-lg-5 col-md-5">
                      <h3>Proposed Time</h3>
                      <h4>Predicted time</h4>
                      <p>This chart is the Proposed tim to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                      <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/proposedday.csv"  target="_blank"> Get Chart Data</a>
                  </div>

              </div>
            </div><!-- /Current Time Row -->

            <hr>

            <div class="container"><!-- Current Cans Row -->
              <div class="row" >

                  <div class="col-lg-5 col-md-5">
                      <h3>Proposed Cans</h3>
                      <h4>Predicted cans</h4>
                      <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                      <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/proposedday.csv"  target="_blank"> Get Chart Data</a>
                  </div>

                  <div class="col-lg-7 col-md-7">
                    <div id="proposedcanchart" >
                          <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                    </div>
                  </div>

              </div>
            </div><!-- /Current Cans Row -->

            <div class="container"><!-- Current Cans Row -->
              <div class="row" >

                  <div class="col-lg-7 col-md-7">
                      <h3>Data</h3>
                      <h4>Data View for prosposed Areas</h4>
                      <div>
                        <div  class="col-lg-12 col-md-12" id="proposeddata" />
                      </div>
                  </div>

                  <div class="col-lg-7 col-md-7">
                      <br>
                      <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/proposedday.csv"  target="_blank"> Get Table Data</a>
                  </div>

              </div>
            </div><!-- /Current Cans Row -->

      </div><!-- /Current Row -->


      <hr>

     <div class="row" id="Predictions" ><!-- Results Row -->


            <div class="container"><!-- Results Title Row -->
              <div class="row" >        

                <div class="col-lg-12 col-md-12">
                  <h2><strong>Results</strong></h2>
                  <p>Results</p>
                </div>   
              </div>
            </div><!-- /Results Title Row -->

            <hr>

            <div class="container"><!-- Results Title Row -->
              <div class="row" >        




            <hr>

            <div class="container"><!-- Results Day Row -->
              <div class="row" >
                <div class="panel panel-default">
                  <div class="panel-body">

                      <h3>Proposed Pickups by Day and Truck</h3>
                      <p>Explaning text</p>

            <hr>

            <!--monday-->
            <div class="container"><!-- Results Title Row -->
              <div class="row" >        

                <div class="col-lg-12 col-md-12">
                  <h3><strong>Monday</strong></h3>
                  <p></p>
                </div>   


              </div>
            </div><!-- /Results Title Row -->

                
                          <div class="container"><!-- Results maps Row -->
                          <div class="row" >

                              <div class="col-lg-8 col-md-8">
                                  <h4><strong>Monday Map</strong></h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <div id='proposedmondaymap' class="proposedsbmap" ></div>
                                  <br>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/coa_sanitation_balance_trucks_monday_plan.geojson" target="_blank"> Get Map Data</a>
                              </div>

                            <div id='value'  class="col-lg-2 col-md-2">
                              <h2><strong>&nbsp;</strong></h2>
                              <h3>&nbsp;</h3>
                              <div >
                                <div  ><strong>Total Time: </strong><span id="ttmondayproposed"></span></div>
                                <div  ><strong>Cans:  </strong><span id="cmondayproposed"></span></div>
                                
                              </div>
                            </div>

                          </div>
                        </div><!-- /Results maps Row -->

                        <hr>

                       <div class="container"><!-- Results Time Row -->
                          <div class="row" >

                              <div class="col-lg-5 col-md-5">
                                  <h4>Monday's Predicted time</h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/mondayproposedtruck.csv"  target="_blank"> Get Chart Data</a>                                  
                              </div>

                              <div class="col-lg-7 col-md-7">
                                <div id="proposedmondaytimechart" >
                                      <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                                </div>

                              </div>

                          </div>
                        </div><!-- /Results Time Row -->


                      <hr>

                       <div class="container"><!-- Results cans Row -->
                          <div class="row" >

                             <div class="col-lg-7 col-md-7">
                                <div id="proposedmondaycanchart" >
                                      <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                                </div>
                              </div>

                              <div class="col-lg-5 col-md-5">
                                  <h4>Monday's Predicted Cans</h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/mondayproposedtruck.csv"  target="_blank"> Get Chart Data</a>
                              </div>

 

                          </div>
                        </div><!-- /Results can Row -->

                      <div class="container"><!-- Current Cans Row -->
                        <div class="row" >

                            <div class="col-lg-12 col-md-12">
                                <h3>Data</h3>
                                <h4>Data View for prosposed Areas</h4>
                                <div>
                                  <div  class="col-lg-12 col-md-12" id="mondayproposeddata" />
                                </div>
                            </div>

                            <div class="col-lg-7 col-md-7">
                                <br>
                                <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/mondayproposedtruck.csv"  target="_blank"> Get Table Data</a>
                            </div>

                        </div>
                      </div><!-- /Current Cans Row -->


                <!--monday-->
                <hr>
                <!--tuesday-->
            <div class="container"><!-- Results Title Row -->
              <div class="row" >        

                <div class="col-lg-12 col-md-12">
                  <h3><strong>Tuesday</strong></h3>
                  <p></p>
                </div>   


              </div>
            </div><!-- /Results Title Row -->


                <hr>

                
                          <div class="container"><!-- Results maps Row -->
                          <div class="row" >

                              <div class="col-lg-8 col-md-8">
                                  <h4><strong>Tuesday's Map</strong></h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <div id='proposedtuesdaymap' class="proposedsbmap" ></div>
                                  <br>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/coa_sanitation_balance_trucks_tuesday_plan.geojson" target="_blank"> Get Map Data</a>                                  
                              </div>

                            <div id='value'  class="col-lg-2 col-md-2">
                              <h2><strong>&nbsp;</strong></h2>
                              <h3>&nbsp;</h3>
                              <div >
                                <div  ><strong>Total Time: </strong><span id="tttuesdayproposed"></span></div>
                                <div  ><strong>Cans:  </strong><span id="ctuesdayproposed"></span></div>
                                
                              </div>
                            </div>

                          </div>
                        </div><!-- /Results maps Row -->

                        <hr>

                       <div class="container"><!-- Results Time Row -->
                          <div class="row" >

                              <div class="col-lg-5 col-md-5">
                                  <h4>Tuesday's Predicted time</h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/tuesdayproposedtruck.csv"  target="_blank"> Get Chart Data</a>
                              </div>

                              <div class="col-lg-7 col-md-7">
                                <div id="proposedtuesdaytimechart" >
                                      <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                                </div>

                              </div>

                          </div>
                        </div><!-- /Results Time Row -->


                      <hr>

                       <div class="container"><!-- Results cans Row -->
                          <div class="row" >

                             <div class="col-lg-7 col-md-7">
                                <div id="proposedtuesdaycanchart" >
                                      <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                                </div>
                              </div>

                              <div class="col-lg-5 col-md-5">
                                  <h4>Tuesday's Predicted Cans</h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictions. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/tuesdayproposedtruck.csv"  target="_blank"> Get Chart Data</a>
                              </div>

 

                          </div>
                        </div><!-- /Results can Row -->

                      <div class="container"><!-- Current Cans Row -->
                        <div class="row" >

                            <div class="col-lg-12 col-md-12">
                                <h3>Data</h3>
                                <h4>Data View for prosposed Areas</h4>
                                <div>
                                  <div  class="col-lg-12 col-md-12" id="tuesdayproposeddata" />
                                </div>
                            </div>

                            <div class="col-lg-7 col-md-7">
                                <br>
                                <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/tuesdayproposedtruck.csv"  target="_blank"> Get Table Data</a>
                            </div>

                        </div>
                      </div><!-- /Current Cans Row -->


                <!--tuesday-->

          <hr>
                <!--wednesday-->
            <div class="container"><!-- Results Title Row -->
              <div class="row" >        

                <div class="col-lg-12 col-md-12">
                  <h3><strong>Wednesday</strong></h3>
                  <p></p>
                </div>   


              </div>
            </div><!-- /Results Title Row -->


                <hr>

                
                          <div class="container"><!-- Results maps Row -->
                          <div class="row" >

                              <div class="col-lg-8 col-md-8">
                                  <h4><strong>Wednesday Map</strong></h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <div id='proposedwednesdaymap' class="proposedsbmap" ></div>
                                  <br>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/coa_sanitation_balance_trucks_wednesday_plan.geojson" target="_blank"> Get Map Data</a>
                              </div>

                            <div id='value'  class="col-lg-2 col-md-2">
                              <h2><strong>&nbsp;</strong></h2>
                              <h3>&nbsp;</h3>
                              <div >
                                <div  ><strong>Total Time: </strong><span id="ttwednesdayproposed"></span></div>
                                <div  ><strong>Cans:  </strong><span id="cwednesdayproposed"></span></div>
                               
                              </div>
                            </div>
            
 

                          </div>
                        </div><!-- /Results maps Row -->

                        <hr>

                       <div class="container"><!-- Results Time Row -->
                          <div class="row" >

                              <div class="col-lg-5 col-md-5">
                                  <h4>Wednesday's Predicted time</h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/wednesdayproposedtruck.csv"  target="_blank"> Get Chart Data</a>
                              </div>

                              <div class="col-lg-7 col-md-7">
                                <div id="proposedwednesdaytimechart" >
                                      <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                                </div>

                              </div>

                          </div>
                        </div><!-- /Results Time Row -->


                      <hr>

                       <div class="container"><!-- Results cans Row -->
                          <div class="row" >

                             <div class="col-lg-7 col-md-7">
                                <div id="proposedwednesdaycanchart" >
                                      <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                                </div>
                              </div>

                              <div class="col-lg-5 col-md-5">
                                  <h4>Wednesday's Predicted Cans</h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/wednesdayproposedtruck.csv"  target="_blank"> Get Chart Data</a>
                              </div>

 

                          </div>
                        </div><!-- /Results can Row -->


                      <div class="container"><!-- Current Cans Row -->
                        <div class="row" >

                            <div class="col-lg-12 col-md-12">
                                <h3>Data</h3>
                                <h4>Data View for prosposed Areas</h4>
                                <div>
                                  <div  class="col-lg-12 col-md-12" id="wednesdayproposeddata" />                                
                                </div>
                            </div>

                            <div class="col-lg-7 col-md-7">
                                <br>
                                <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/wednesdayproposedtruck.csv"  target="_blank"> Get Table Data</a>
                            </div>

                        </div>
                      </div><!-- /Current Cans Row -->
                <!--wednesday-->

          <hr>
                <!--Thursday-->
            <div class="container"><!-- Results Title Row -->
              <div class="row" >        

                <div class="col-lg-12 col-md-12">
                  <h3><strong>Thursday</strong></h3>
                  <p></p>
                </div>   


              </div>
            </div><!-- /Results Title Row -->


                <hr>

                
                          <div class="container"><!-- Results maps Row -->
                          <div class="row" >

                              <div class="col-lg-8 col-md-8">
                                  <h4><strong>Thursday Map</strong></h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <div id='proposedthursdaymap' class="proposedsbmap" ></div>
                                  <br>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/coa_sanitation_balance_trucks_thursday_plan.geojson" target="_blank"> Get Map Data</a>
                              </div>

                            <div id='value'  class="col-lg-2 col-md-2">
                              <h2><strong>&nbsp;</strong></h2>
                              <h3>&nbsp;</h3>
                              <div >
                                <div  ><strong>Total Time: </strong><span id="ttthursdayproposed"></span></div>
                                <div  ><strong>Cans:  </strong><span id="cthursdayproposed"></span></div>
                                
                              </div>
                            </div>

                          </div>
                        </div><!-- /Results maps Row -->

                        <hr>

                       <div class="container"><!-- Results Time Row -->
                          <div class="row" >

                              <div class="col-lg-5 col-md-5">
                                  <h4>Thursday's Predicted time</h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/thursdayproposedtruck.csv"  target="_blank"> Get Chart Data</a>
                              </div>

                              <div class="col-lg-7 col-md-7">
                                <div id="proposedthursdaytimechart" >
                                      <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                                </div>

                              </div>

                          </div>
                        </div><!-- /Results Time Row -->


                      <hr>

                       <div class="container"><!-- Results cans Row -->
                          <div class="row" >

                             <div class="col-lg-7 col-md-7">
                                <div id="proposedthursdaycanchart" >
                                      <!--<img class="img-responsive" src="http://placehold.it/700x300" alt="">-->
                                </div>
                              </div>

                              <div class="col-lg-5 col-md-5">
                                  <h4>Thursday's Predicted Cans</h4>  
                                  <p>This chart is the current time to pickup,b ased on our predictiosn. it does not include transfer station dreopoffs nor dirving to and from the PW building</p>
                                  <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/thursdayproposedtruck.csv"  target="_blank"> Get Chart Data</a>
                              </div>

 

                          </div>
                        </div><!-- /Results can Row -->
                      <div class="container"><!-- Current Cans Row -->
                        <div class="row" >

                            <div class="col-lg-12 col-md-12">
                                <h3>Data</h3>
                                <h4>Data View for prosposed Areas</h4>
                                <div>
                                  <div  class="col-lg-12 col-md-12" id="thursdayproposeddata" />
                                </div>
                            </div>

                            <div class="col-lg-7 col-md-7">
                                <br>
                                <a class="btn btn-default fa fa-download" href="https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/thursdayproposedtruck.csv"  target="_blank"> Get Table Data</a>
                            </div>

                        </div>
                      </div><!-- /Current Cans Row -->

                <!--Thursday-->
                  </div>
                </div>
              </div>
            </div><!-- /Results Day Row -->

      </div><!-- /Results Row -->


      <hr>


      <div class="container" id="Methodology"><!-- Methodolgy Contaier -->
        <div class="row" ><!-- Methodolgy Row -->
          <div class="col-lg-12">
                      
                      <h3>Methodology</h3>
                      <h4>Methodology</h4>
                      <p>To balance we must understand what factors cause a truck to take actually take more time for pickup.  
                        Really asking what causes a truck to accumulate time to pickup trash.  
                        Looking at what actually affects a trash truck to accumulate time.  
                        Looking at several factors tip time?  -  </p>

            <div class="panel panel-default">
              <div class="panel-body">
                  <ul class="timeline">
                      <li>
                          <div class="timeline-badge"><i class="fa fa-check"></i>
                          </div>
                          <div class="timeline-panel">
                              <div class="timeline-heading">
                                  <h4 class="timeline-title">Factors</h4>
                              </div>
                              <div class="timeline-body">
                                  <ul class="list-unstyled">
                                      <li>Number of cans  <hr> <pre>(75% of all out )</pre><hr></li>
                                      <li>Distance of street segment<br> 
                                      <li>Curveness of road using <a href="http://en.wikipedia.org/wiki/Sinuosity" >Sinuosity</a>index</li>
                                      <li>Streets that a truck can back only</li>
                                      <li>Slope of road segment  <hr><pre>end elevation - start elevation / length )*100 </pre><hr></li>
                                      <li>Speed limit</li>
                                      <li>Road classification types</li>
                                      <li>Density of cans along the road</li>
                                  </ul>
                              </div>
                          </div>
                      </li>
                      <li class="timeline-inverted">
                          <div class="timeline-badge"><i class="fa fa-exchange"></i>
                          </div>
                          <div class="timeline-panel">
                              <div class="timeline-heading">
                                  <h4 class="timeline-title">Testing for Correlation</h4>
                              </div>
                              <div class="timeline-body">
                                  <p>Using R a statistical computing software <a href="http://www.r-project.org/" >R-project</a> we can look at how these factors are correlated or related to each other</p>
                              </div>
                          </div>
                      </li>
                      <li>
                          <div class="timeline-badge success"><i class="fa fa-play-circle "></i>
                          </div>
                          <div class="timeline-panel">
                              <div class="timeline-heading">
                                  <h4 class="timeline-title">Running the matrix this your self</h4>
                              </div>
                              <div class="timeline-body">
                                 <p>here is the r commands for self exploration</p> 
                                 <hr>
                                  <pre>
> test.data = read.table("trash_mat.tsv", header=TRUE)<br>
> attach(test.data)<br>
> test.cor = cor(test.data, method = "pearson")<br>
> test.cor<br>
                                  </pre>
                                  <hr>
                                  <p>
                                  <a class="btn btn-default fa fa-download" href="https://github.com/cityofasheville/sanitationreport/blob/gh-pages/data/trash_mat.tsv" target="_blank" > (Get trash_mat.tsv)</a>
                                 </p>
                                 

                              </div>
                          </div>
                      </li>
                      <li class="timeline-inverted">
                                                  <div class="timeline-badge success"><i class="fa fa-table "></i>
                          </div>
                          <div class="timeline-panel">
                              <div class="timeline-heading">
                                  <h4 class="timeline-title">Correlation Matrix</h4>
                              </div>
                              <div class="timeline-body">
                                  <p>the resulting matrix:</p> 
                                  <div id="myGrid"></div>
                                  <p>Correlations closer to 1 are more highly correlated. 
                                  so in this case the distance + cans is .88 thats considered highly related.</p>
                                  <p>The only items that have an significant correlation to the time it takes a trash truck to traverse and pick up trash was distance and #of cans as demonstrated by this correlation index maybe backing up but thats a stretch.</p>
                              </div>
                          </div>
                      </li>
                      <li>
                          <div class="timeline-badge success"><i class="fa fa-magic"></i>
                          </div>
                          <div class="timeline-panel">
                              <div class="timeline-heading">
                                  <h4 class="timeline-title">Predicting</h4>
                              </div>
                              <div class="timeline-body">
                                  <p>One we know what is related we can attempt regression anlysis  to predict how long it will take for truck to traverse a street picking up cans with 75% of the cans out.  &5% is what we observed on average.  Now we should be able to predict with reasonable accuracy the time to pick up the cans on any street in the city. </p>
                              </div>
                          </div>
                      </li>
                      <li>
                                                  <div class="timeline-badge success"><i class="fa fa-bars"></i>
                          </div>
                          <div class="timeline-panel">
                              <div class="timeline-heading">
                                  <h4 class="timeline-title">Balacing</h4>
                              </div>
                              <div class="timeline-body">
                                  <p> So balancing should be a matter of making sure the predictions are “balanced” nothing fancy is needed. the technique is same as redistricting.  Redistricting balances pupulations here were balancing time to pickup trash cans. to do this we use arcgis districting add-on. no fancy routing is needed. no need to maintain turn restrictions, time windows, and all the other complexities involved with a routing network.  especially when we already know that the driver will outperform this anyway. </p>
                              </div>
                          </div>
                      </li>
                      <li class="timeline-inverted">
                          <div class="timeline-badge success"><i class="fa fa-thumbs-up"></i>
                          </div>
                          <div class="timeline-panel">
                              <div class="timeline-heading">
                                  <h4 class="timeline-title">Prediction details</h4>
                              </div>
                              <div class="timeline-body">
                                  <p>here are the r commands for self exploration</p> 
                                  <hr>
                                  <pre>
&gt trashobservations = read.table("trash_observations.tsv", header=TRUE,row.names=2 )<br>
&gt trashobservations.lm =lm(time_obs ~ length + cans_out + speed_limit + backuponly,data=trashobservations )<br>
&gt attach(trashobservations )<br>
&gt rsq &lt- round(summary(trashobservations.lm)$r.squared,3)<br>
&gt plot(time_obs,length + cans_out + speed_limit + backuponly, xlab="Traverse Time ", ylab="Cans per - Length - Backup Only ", pch=19)<br>
&gt abline(lm(length + cans_out + speed_limit + backuponly~time_obs), col="blue")<br>
&gt lines(lowess(time_obs,length + cans_out + speed_limit + backuponly ), col="red")<br>
&gt lm_coef &lt- round(coef(trashobservations.lm), 3)<br>
&gt mtext(bquote(r^2 == .(rsq)), adj=1, padj=-.10)<br>
&gt predictdata = read.table("trash_existing_street_data.tsv", header=TRUE ,row.names=2)<br>
&gt predictions = predict(trashobservations.lm, predictdata,interval="confidence")<br>
&gt write.table(predictions,"pickup_predictions_results.txt", sep = "\t",col.names = TRUE, row.names = TRUE)<br>
                                  </pre>
                                  <hr>
                                  <p>
                                 <a class="btn btn-default  fa fa-download" href="https://github.com/cityofasheville/sanitationreport/blob/gh-pages/data/trash_observations.tsv"  target="_blank"> (Get trash_observations.tsv)</a>
                                 </p> <p>
                                 <a class="btn btn-default  fa fa-download" href="https://github.com/cityofasheville/sanitationreport/blob/gh-pages/data/trash_observations.tsv"  target="_blank"> (Get trash_existing_street_data.tsv)</a>
                                 </p>
                              </div>
                          </div>
                      </li>

                      <li class="timeline-panel">
                                                  <div class="timeline-badge success"><i class="fa fa-table "></i>
                          </div>
                          <div class="timeline-panel">
                              <div class="timeline-heading">
                                  <h4 class="timeline-title">Creating the Trash Balance Areas</h4>
                              </div>
                              <div class="timeline-body">
                                  <p>The process for creating the trash balance areas involves first gettting the preictions discussed prevously.  
                                    Then applying the data to the sreet centerlines.  The data added includes start and end elvation, precitiosn, cans observered if availalbe, cans actual, length, sisudal index, density of cans  </p> 
                                    
                                    <!--
                                  
                                  <a class="btn btn-default  fa fa-download" href="https://github.com/cityofasheville/sanitationreport/blob/gh-pages/data/trash_observations.tsv"  target="_blank"> Get SQL</a>

                                  <p>next we findg how many trash cans are on each street segment and offset a point for right side and left side at the half way point along thes strets. each point includes cans and predictiont time</p>
                                    <a class="btn btn-default  fa fa-download" href="https://github.com/cityofasheville/sanitationreport/blob/gh-pages/data/trash_observations.tsv"  target="_blank"> Get SQL</a>
                                  
                                  <p>fionally a overlay that sums the cans and predictions for each polygon that makes up the balance polygons</p>
                                    <a class="btn btn-default  fa fa-download" href="https://github.com/cityofasheville/sanitationreport/blob/gh-pages/data/trash_observations.tsv"  target="_blank"> Get SQL</a>
                                  -->

                                    <br>
                                    <p>The trash network data:</p>
                                    <a class="btn btn-default  fa fa-download" href="https://github.com/cityofasheville/sanitationreport/raw/gh-pages/data/coa_sanitation_trash_network.zip"  target="_blank"> Get Trash Network</a>

                                    <br>
                                    <p>The trash network is based on our street network:</p>
                                    <a class="btn btn-default  fa fa-download" href="https://github.com/cityofasheville/sanitationreport/raw/gh-pages/data/bc_street_network.zip"  target="_blank"> Get Street Network</a>

                                    <br>
                                    <p>The Mid points offset:</p>
                                    <a class="btn btn-default  fa fa-download" href="https://github.com/cityofasheville/sanitationreport/raw/gh-pages/data/bc_street_midpoint_offset_cache.zip"  target="_blank"> Get Points</a>

                                    <br>
                                    <p>The Trash Balancing Polygons</p>
                                    <a class="btn btn-default  fa fa-download" href="https://github.com/cityofasheville/sanitationreport/raw/gh-pages/data/coa_districts_sanitation_predictions_cache.zip"  target="_blank"> Get Balance Polygons</a>

                              </div>
                          </div>
                      </li>

                      <li class="timeline-inverted">
                          <div class="timeline-badge success"><i class="fa fa-bars"></i>
                          </div>
                          <div class="timeline-panel">
                              <div class="timeline-heading">
                                  <h4 class="timeline-title">Balancing details</h4>
                              </div>
                              <div class="timeline-body">
                                  <p>
                                    So to balance we assume 4 days and 6 trucks each day with a max 6.5 hours needed to pickup trash.  here runow we can use .ArcGIS districting to balance the areas. the predicted seconds are the only thing we need to ensure balanced days and then truck routes within days
                                  </p>
                                  <p>ESRI's ArcGIS <a href="http://www.esri.com/software/arcgis/extensions/districting">Redistricing</a> Extension</p>
                              </div>
                          </div>
                      </li>                      

                  </ul>
              </div>
                        
            </div>


        </div>
      </div><!-- /Methodolgy Row -->
    </div> <!-- /Methodolgy Contaier -->

    <hr>

     <!-- Portfolio -->
    <div id="compare" class="compare">
      <div class="panel panel-default">
        <div class="panel-body">
          <div class="container">
           <div class="row" ><h3>Comparng Data<small></small></h3></div>
            <div class="row">

            <div class="col-md-4">
                <h4>Comparing Current and Proposed</h4>
                <p></p>
                <a class="btn btn-default btn-xs fa fa-github-alt" href="" > GeoJSON</a>
            </div>

         </div>
        </div>
       </div>
    </div>
          <!-- /Portfolio -->


     <!-- Portfolio -->
    <div id="data" class="data">
      <div class="panel panel-default">
        <div class="panel-body">
          <div class="container">
           <div class="row" ><h3>Supporting Data<small></small></h3></div>
            <div class="row">

            <div class="col-md-4">
                <h4>Current Areas</h4>
                <p>Data Desciption</p>
                <a class="btn btn-default btn-xs fa fa-github-alt" href="" > GeoJSON</a>
            </div>

         </div>
        </div>
       </div>
    </div>
          <!-- /Portfolio -->




    <footer>
      <div class="row">
          <div class="col-lg-12">
              <p>City of Asheville ITS 2014</p>
          </div>
      </div>
    </footer>

    </div><!-- /Report Container -->







    <!-- JavaScript -->
    <script src="js/jquery-1.10.2.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="js/jquery.dataTables.js"></script>
    <script src="js/dataTables.bootstrap.js"></script>
    <script src="js/Charts.js"></script>
    <script src="js/Maps.js"></script>
    <script src="js/Tables.js"></script>



    <script>


        renderMap('data/coa_sanitation_balance_days_cur.geojson','currentmap','current');
        renderChart('data/currentday.csv','currenttimechart','day','truckhours');
        renderChart('data/currentday.csv','currentcanchart','day','cans');
        renderTable('https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/currentday.csv','currentdata');

        renderMap('data/coa_sanitation_balance_days_plan.geojson','proposedmap','proposed')
        renderChart('data/proposedday.csv','proposedtimechart','day','truckhours');
        renderChart('data/proposedday.csv','proposedcanchart','day','cans');
        renderTable('https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/proposedday.csv','proposeddata');

        renderSubMap('data/coa_sanitation_balance_trucks_monday_plan.geojson','proposedmondaymap','mondayproposed')
        renderChart('data/mondayproposedtruck.csv','proposedmondaytimechart','truck','hours');
        renderChart('data/mondayproposedtruck.csv','proposedmondaycanchart','truck','cans');
        renderTable('https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/mondayproposedtruck.csv','mondayproposeddata');


        renderSubMap('data/coa_sanitation_balance_trucks_tuesday_plan.geojson','proposedtuesdaymap','tuesdayproposed')
        renderChart('data/tuesdayproposedtruck.csv','proposedtuesdaytimechart','truck','hours');
        renderChart('data/tuesdayproposedtruck.csv','proposedtuesdaycanchart','truck','cans');
        renderTable('https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/tuesdayproposedtruck.csv','tuesdayproposeddata');

        renderSubMap('data/coa_sanitation_balance_trucks_wednesday_plan.geojson','proposedwednesdaymap','wednesdayproposed')
        renderChart('data/wednesdayproposedtruck.csv','proposedwednesdaytimechart','truck','hours');
        renderChart('data/wednesdayproposedtruck.csv','proposedwednesdaycanchart','truck','cans')
        renderTable('https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/wednesdayproposedtruck.csv','wednesdayproposeddata');


        renderSubMap('data/coa_sanitation_balance_trucks_thursday_plan.geojson','proposedthursdaymap','thursdayproposed')
        renderChart('data/thursdayproposedtruck.csv','proposedthursdaytimechart','truck','hours');
        renderChart('data/thursdayproposedtruck.csv','proposedthursdaycanchart','truck','cans')
        renderTable('https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/thursdayproposedtruck.csv','thursdayproposeddata');

        renderTable('https://raw.github.com/cityofasheville/sanitationreport/gh-pages/data/correlation-matrix1.csv','myGrid')
        
         
      </script>
</body>

</html>
